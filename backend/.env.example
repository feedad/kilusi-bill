# ===========================================
# Kilusi Bill Backend - Environment Configuration
# ===========================================
# Copy this file to .env and update with your actual values

# Server Configuration
NODE_ENV=development
PORT=3001
HOST=0.0.0.0

# Session Secret (IMPORTANT: GENERATE NEW RANDOM SECRET FOR PRODUCTION!)
SESSION_SECRET=change-this-to-random-64-char-string-minimum

# Database Configuration (PostgreSQL)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DATABASE=kilusi_bill
POSTGRES_USER=kilusi_user
POSTGRES_PASSWORD=your_postgres_password_here
POSTGRES_POOL_MAX=20
POSTGRES_IDLE_TIMEOUT=30000
POSTGRES_CONNECTION_TIMEOUT=5000
POSTGRES_SSL=false

# RADIUS Configuration
RADIUS_HOST=localhost
RADIUS_USER=user_mysql_radius
RADIUS_PASSWORD=your_radius_password_here
RADIUS_DATABASE=radius
RADIUS_SERVER_ENABLED=true
RADIUS_AUTH_PORT=1812
RADIUS_ACCT_PORT=1813
RADIUS_AUTO_SYNC_ON_STARTUP=true
RADIUS_SYNC_INTERVAL_MINUTES=60

# RADIUS NAS Clients (JSON format)
# Format: [{"ip": "192.168.1.1", "secret": "your_secret", "name": "Device Name"}]
RADIUS_NAS_CLIENTS=[{"ip": "127.0.0.1", "secret": "testing123", "name": "localhost"}, {"ip": "192.168.8.1", "secret": "your_secret", "name": "Mikrotik Main"}]

# Application Settings
APP_MODE=radius
COMPANY_NAME=Kilusi ISP
COMPANY_HEADER=KILUSI DIGITAL NETWORK
FOOTER_INFO=Info Hubungi : +628XXXXXXXXXX
LOGO_FILENAME=kilusi-logo.svg
USER_AUTH_MODE=radius

# Admin Configuration
ADMIN_USERNAME=admin
ADMIN_PASSWORD=your_admin_password_here
ADMIN_NUMBERS=6281947215703

# Mikrotik Configuration
MIKROTIK_HOST=192.168.88.2
MIKROTIK_PORT=8728
MIKROTIK_USER=your_mikrotik_user
MIKROTIK_PASSWORD=your_mikrotik_password
MIKROTIK_API_ENABLED=false

# SNMP Configuration
SNMP_HOST=192.168.88.2
SNMP_PORT=161
SNMP_COMMUNITY=public
SNMP_VERSION=2c
SNMP_INTERFACE=sfp-sfpplus1
MAIN_INTERFACE=ether1-ISP
MONITOR_MODE=snmp
SNMP_MONITORING_ENABLED=false

# GenieACS Configuration
GENIEACS_URL=http://172.22.10.23:7557
GENIEACS_USERNAME=admin
GENIEACS_PASSWORD=your_genieacs_password

# WhatsApp Configuration
WHATSAPP_KEEP_ALIVE=true
WHATSAPP_RESTART_ON_ERROR=true
WA_SEND_DELAY_MS=3000
TECHNICIAN_NUMBERS=6283807665697,62822180947xx
TECHNICIAN_GROUP_ID=1203630314957962xx@g.us

# WhatsApp Cloud API Configuration (NEW - Official Meta API)
WHATSAPP_ACCESS_TOKEN=EAADKQZC...
WHATSAPP_PHONE_NUMBER_ID=123456789
WHATSAPP_WEBHOOK_VERIFY_TOKEN=mysecrettoken123
WHATSAPP_API_VERSION=v18.0
ADMIN_WHATSAPP_NUMBER=6281947215703

# Monitoring Configuration
PPPOE_MONITOR_ENABLE=true
PPPOE_MONITOR_INTERVAL_MINUTES=1
RX_POWER_WARNING=-26
RX_POWER_CRITICAL=-30
RX_POWER_NOTIFICATION_ENABLE=true
RX_POWER_WARNING_INTERVAL=1
RX_POWER_NOTIFICATION_INTERVAL_MINUTES=5

# Customer Portal
CUSTOMER_PORTAL_OTP=false
OTP_LENGTH=4
OTP_EXPIRY_MINUTES=5

# PPPoE Notifications
PPPOE_NOTIFICATIONS_ENABLED=true
PPPOE_LOGIN_NOTIFICATIONS=true
PPPOE_LOGOUT_NOTIFICATIONS=true
PPPOE_INCLUDE_OFFLINE_LIST=true
PPPOE_MAX_OFFLINE_LIST_COUNT=20

# OLT Monitoring
RXPOWER_RECAP_ENABLE=true
RXPOWER_RECAP_INTERVAL=6
OFFLINE_NOTIFICATION_ENABLE=true
OFFLINE_NOTIFICATION_INTERVAL=12

# Trouble Report
TROUBLE_REPORT_ENABLED=true
TROUBLE_REPORT_AUTO_TICKET=true
TROUBLE_REPORT_CATEGORIES=Internet Lambat,Tidak Bisa Browsing,WiFi Tidak Muncul,Koneksi Putus-Putus,Lainnya

# Billing Configuration
BILLING_AUTO_ISOLIR=true
BILLING_ISOLIR_PROFILE=ISOLIR
BILLING_ISOLIR_GRACE_DAYS=3
BILLING_ISOLIR_CHECK_INTERVAL=24
BILLING_MONTHLY_INVOICE_ENABLE=true
BILLING_MONTHLY_INVOICE_TIME=00:00
BILLING_MONTHLY_INVOICE_REMINDER_DAYS=3
BILLING_REMINDER_ENABLE=true
BILLING_REMINDER_TIME=08:00
BILLING_DUE_DATE=1
BILLING_GRACE_PERIOD=3
BILLING_DEVICE_SOURCE=mikrotik
AUTO_ISOLIR=false
PPPOE_USERNAME_SUFFIX=@kilusi.id

# Backup Configuration
BACKUP_INTERVAL_HOURS=24
BACKUP_MAX_FILES=30

# Payment Configuration
PAYMENT_ACCOUNTS=BCA 1234567890 a/n KILUSI BILL INDONESIA e-Wallet +6281234567890 a/n KILUSI BILL
PAYMENT_GATEWAY_PROVIDER=
TRIPAY_PRODUCTION=false

# API Configuration
API_KEY=kilusi-api-2024
API_SECRET=your_api_secret_here_make_it_long_and_random

# Security Configuration
ALLOWED_ORIGINS=http://localhost:3001,http://localhost:3000
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
BCRYPT_ROUNDS=12
HELMET_ENABLED=true
CORS_CREDENTIALS=false

# JWT Configuration
JWT_SECRET=your_jwt_secret_here_make_it_long_and_random
JWT_EXPIRES_IN=24h

# File Upload Configuration
MAX_FILE_SIZE=10485760
UPLOAD_PATH=./public/uploads

# Google Maps Configuration (Optional)
GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here

# Email Configuration (Optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASSWORD=your_app_password
FROM_EMAIL=noreply@yourcompany.com
FROM_NAME=Kilusi Bill

# Logging Configuration
LOG_LEVEL=info
LOG_DIR=./logs
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Development/Debug
DEBUG=false
ENABLE_METRICS=false
ENABLE_HEALTH_CHECK=true
CACHE_TTL=300
